<html>

<head>
</head>

<body>
	<br>

	<p><a href="/customer_login">Customer login</a> <a href="/staff_login">Staff login</a></p>
	<h1>Welcome to the Flight Database!</h1>
	<form action="/search_unlog" method="POST">

		<h2>View public information</h2>
		<input type="text" name= "departure_airport" placeholder="Departure"  />
		<input type="text" name= "arrival_airport" placeholder="Arrival"  /> </br>
		<input type="text" name = "departure_city" placeholder="Departure City"/>
		<input type="text" name = "arrival_city" placeholder="Arrival City"/> <br>
		<p> Departure Date <input type="date" name = "departure_date" placeholder="Departure Date" required /></br></p>
		<input type="checkbox" id="round-trip" name="round-trip" value="yes" onChange="toggleArriveDate();">
		<label for="one-way"> Round Trip?</label><br>
		<p class ="return_date" style="visibility: hidden;" > Return Date <input name = "return_date" class="return_date" style="visibility: hidden;" type="date" placeholder="Return Date"  /></p> <br>
			<br>
		<input type="submit" value=Search />
	</form>

	<script>
    function toggleArriveDate() {
      arr = document.getElementsByClassName("return_date")
      for (var i=0; i<arr.length; i++) {
        if (arr[i].style.visibility == "hidden"){
          arr[i].style.visibility = "visible";
        } else {
          arr[i].style.visibility = "hidden";
      }
    }
    }
  </script>

	<style type="text/css">
		table,
		th,
		td {
			border: 1px solid black;
		}
	</style>

	<table>
	<th>Airline</th>
	<th>Flight Number</th>
	<th>Depart Date</th>
	<th>Depart Time </th>
	<th>Arrival Date </th>
	<th>Arrival Time </th>
	<th>Flight Status</th>
	<th>Price</th>


{% for line in flights %}
	<tr>
		<td>{{line['airline_name']}}</td>
		<td>{{line['flight_number']}}</td>
		<td>{{line['departure_date']}}</td>
		<td>{{line['departure_time']}}</td>
		<td>{{line['arrival_date']}}</td>
		<td>{{line['arrival_time']}}</td>
		<td>{{line['flight_status']}}</td>
		<td>{{line['base_price']}}</td>
	</tr>
{% endfor %}
</table>

{% if error %}
	<p class="error"><strong>Error:</strong> {{error}}</p>
{% endif %}

</body>


</html>
